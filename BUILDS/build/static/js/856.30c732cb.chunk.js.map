{"version":3,"file":"static/js/856.30c732cb.chunk.js","mappings":"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","sources":["../node_modules/@material-ui/icons/esm/CloudUpload.js","pages/host/Kithen/AddPicsInKitchen.js","redux/actions/kitchenAction.js"],"sourcesContent":["import * as React from 'react';\nimport createSvgIcon from './utils/createSvgIcon';\nexport default createSvgIcon( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM14 13v4h-4v-4H7l5-5 5 5h-3z\"\n}), 'CloudUpload');","import {useState,useRef,useEffect} from 'react'\nimport \"./../../../styles/addPicsKitchen.scss\";\nimport {update_kithen_image} from './../../../redux/actions/kitchenAction';\nimport {useDispatch} from 'react-redux';\nimport {CloudUpload} from '@material-ui/icons';\nimport {useCookies} from 'react-cookie';\n\nimport 'react-toastify/dist/ReactToastify.css';\n\nimport {showErrorToast} from './../../Toast';\n\nexport default function AddPicsInKitchen() {\n\n  const [images,setImages]=useState(null);\n  const [imagesURLS,setImagesURLS]=useState(null);\n  const filesRef=useRef(null);\n  const dispatch=useDispatch();\n  const [cookies]=useCookies(\"userDetails\");\n\n  const [disabled,setDisabled]=useState(false);\n\n  const uploadAllImages=()=>{\n    var formData = new FormData();\n    if(images?.length===3){\n      for(let i=0;i<images?.length;i++){\n        const file=images[i]?images[i]:undefined;\n      \n        if(file){\n          formData.append('kitchenPic',file);\n        }//End If\n      }//End For\n  \n      var config = {\n        method: 'put',\n        url: `kitchen/pic/${cookies?.userDetails?.id }`,\n        data : formData,\n        headers: { \n          'Authorization': `Bearer ${cookies?.userDetails?.token}`, \n          \"Content-Type\": \"multipart/form-data\" \n        },\n  \n      };\n      dispatch(update_kithen_image(config));\n      setDisabled(true);\n    }\n \n    else{\n      showErrorToast(\"Please try to upload  3 images\");\n    }\n \n    \n  }\n\n  useEffect(()=>{\n    if(images){\n      const urls=[];\n      if(images?.length===3){\n        for(let i=0;i<images?.length;i++){\n          const creator=URL.createObjectURL(images[i])\n          urls.push(creator)\n        }\n        setImagesURLS(urls)\n      }\n      else{\n        showErrorToast(\"Please try to upload 3 images only\");\n      }\n\n    }\n  },[images]);\n\n\n  return (\n    <div className=\"addPicsInKitchen\">\n    \n      <h2>Add Pics in Kitchen</h2>\n      <p style={{\"fontWeight\":\"lighter\"}}>Total images {imagesURLS?(imagesURLS?.length):\"0\"}/3</p>\n      <input ref={filesRef}   type=\"file\" accept=\"images/*\" onChange={(e)=>{setImages(e.target.files)}}  multiple hidden></input>\n\n      <div className=\"imagesArea\">\n        <button onClick={()=>filesRef.current.click()} className=\"selectImageBtn\" >\n          <span>+</span>\n          <span>Choose Images</span>\n        </button>\n        \n        {\n          imagesURLS&&imagesURLS.map((item,index)=>{\n            return <img className=\"choosenImage\" alt={index} async={true} src={item} key={index}></img>\n          })\n        }\n      </div>\n      <button onClick={()=>uploadAllImages()} disabled={disabled} style={disabled?{\"opacity\":0.5}:{\"opacity\":1}} className=\"uploadBtn\">\n        <CloudUpload/>\n        Upload All Images\n      </button>\n     \n\n    </div>\n  )\n}\n","import { ERROR,EDIT_KITCHEN,GET_KITCHEN,UPLOAD_PICS_IN_KITCHEN} from './../types';\nimport api from './../../api';\nimport {set_progress} from './progressAction';\n\nexport const edit_kitchen=(config)=>{\n    return async (dispatch)=>{\n        try{\n            Object.assign(config,{timeout:0});\n            const res=await api(config);\n            // console.log(res)\n            dispatch({type:EDIT_KITCHEN,payload:res?.data})\n        }\n        catch(error){\n            // console.log(error);\n            if(error?.code===\"ECONNABORTED\"){\n               \n                dispatch({ type:ERROR,payload:\"Network Issues,Please try again\"})\n     \n            }\n            else{\n                if (error?.response?.data?.error?.message) {\n                    dispatch({ type: ERROR, payload: error?.response?.data?.error?.message });\n                }\n                else {\n                    dispatch({ type: ERROR, payload: error?.response?.data?.message })\n                }\n            }\n        }\n    }\n}\n\n\nexport const get_kitchen=(config)=>{\n    return async (dispatch)=>{\n        try{\n            Object.assign(config,{timeout:0});\n            const res=await api(config);\n            // console.log(\"GET_KITCHEN\",res)\n            dispatch({type:GET_KITCHEN,payload:res?.data})\n        }\n        catch(error){\n            // console.log(error);\n            if(error?.code===\"ECONNABORTED\"){\n               \n                dispatch({ type:ERROR,payload:\"Network Issues,Please try again\"})\n     \n            }\n            else{\n                if (error?.response?.data?.error?.message) {\n                    dispatch({ type: ERROR, payload: error?.response?.data?.error?.message });\n                }\n                else {\n                        dispatch({ type: ERROR, payload: error?.response?.data?.message })\n                }\n            }\n        }\n    }\n}\n\n\nexport const update_kithen_image = (config) => {\n\n    return async (dispatch) => {\n        let loaded=0;\n        let total=0;\n        try {\n            \n            Object.assign(config,{onUploadProgress:event=>{\n                loaded=event.loaded;\n                total=event.total;\n                // console.log(loaded,total)\n                dispatch(set_progress(event.loaded,event.total));\n            }});\n            Object.assign(config,{timeout:0})\n            const res = await api(config);\n            // console.log(\"DATA\",res?.data)\n            dispatch({type:UPLOAD_PICS_IN_KITCHEN,payload:res?.data})\n\n            const uid=config?.url?.split(\"/\")[2];\n            const newConfig={\n                \"method\": 'get',\n                \"url\":\"kitchen/\"+uid,\n                \"headers\": { \n                  'Authorization': config?.headers?.Authorization,\n                },\n            }\n            // console.log(newConfig);\n            dispatch(get_kitchen(newConfig));\n\n\n            \n        }\n        catch (error) {\n    \n            // console.log(UPLOAD_PICS_IN_KITCHEN,error);\n            dispatch({ type: ERROR, payload: error?.response?.data?.message });\n            \n           \n        }\n    }\n}\n"],"names":["createSvgIcon","React","d","AddPicsInKitchen","useState","images","setImages","imagesURLS","setImagesURLS","filesRef","useRef","dispatch","useDispatch","useCookies","cookies","disabled","setDisabled","useEffect","urls","length","i","creator","URL","createObjectURL","push","showErrorToast","className","style","ref","type","accept","onChange","e","target","files","multiple","hidden","onClick","current","click","map","item","index","alt","async","src","formData","FormData","file","undefined","append","config","method","url","userDetails","id","data","headers","token","update_kithen_image","uploadAllImages","CloudUpload","edit_kitchen","Object","assign","timeout","api","res","EDIT_KITCHEN","payload","code","ERROR","response","error","message","get_kitchen","GET_KITCHEN","onUploadProgress","event","loaded","total","set_progress","UPLOAD_PICS_IN_KITCHEN","uid","split","newConfig","Authorization"],"sourceRoot":""}