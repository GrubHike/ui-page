"use strict";(self.webpackChunkgrub_hike=self.webpackChunkgrub_hike||[]).push([[856],{5856:function(e,t,n){n.r(t),n.d(t,{default:function(){return c}});var a=n(885),l=n(2791),o=n(6001),i=n(9434),r=(0,n(936).Z)(l.createElement("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM14 13v4h-4v-4H7l5-5 5 5h-3z"}),"CloudUpload"),s=n(4673),u=(n(5462),n(6298)),d=n(184);function c(){var e=(0,l.useState)(null),t=(0,a.Z)(e,2),n=t[0],c=t[1],v=(0,l.useState)(null),p=(0,a.Z)(v,2),h=p[0],f=p[1],m=(0,l.useRef)(null),g=(0,i.I0)(),y=(0,s.Z)("userDetails"),k=(0,a.Z)(y,1)[0],x=(0,l.useState)(!1),Z=(0,a.Z)(x,2),j=Z[0],b=Z[1];return(0,l.useEffect)((function(){if(n){var e=[];if(3===(null===n||void 0===n?void 0:n.length)){for(var t=0;t<(null===n||void 0===n?void 0:n.length);t++){var a=URL.createObjectURL(n[t]);e.push(a)}f(e)}else(0,u.E)("Please try to upload 3 images only")}}),[n]),(0,d.jsxs)("div",{className:"addPicsInKitchen",children:[(0,d.jsx)("h2",{children:"Add Pics in Kitchen"}),(0,d.jsxs)("p",{style:{fontWeight:"lighter"},children:["Total images ",h?null===h||void 0===h?void 0:h.length:"0","/3"]}),(0,d.jsx)("input",{ref:m,type:"file",accept:"images/*",onChange:function(e){c(e.target.files)},multiple:!0,hidden:!0}),(0,d.jsxs)("div",{className:"imagesArea",children:[(0,d.jsxs)("button",{onClick:function(){return m.current.click()},className:"selectImageBtn",children:[(0,d.jsx)("span",{children:"+"}),(0,d.jsx)("span",{children:"Choose Images"})]}),h&&h.map((function(e,t){return(0,d.jsx)("img",{className:"choosenImage",alt:t,async:!0,src:e},t)}))]}),(0,d.jsxs)("button",{onClick:function(){return function(){var e=new FormData;if(3===(null===n||void 0===n?void 0:n.length)){for(var t,a,l=0;l<(null===n||void 0===n?void 0:n.length);l++){var i=n[l]?n[l]:void 0;i&&e.append("kitchenPic",i)}var r={method:"put",url:"kitchen/pic/".concat(null===k||void 0===k||null===(t=k.userDetails)||void 0===t?void 0:t.id),data:e,headers:{Authorization:"Bearer ".concat(null===k||void 0===k||null===(a=k.userDetails)||void 0===a?void 0:a.token),"Content-Type":"multipart/form-data"}};g((0,o.i5)(r)),b(!0)}else(0,u.E)("Please try to upload  3 images")}()},disabled:j,style:j?{opacity:.5}:{opacity:1},className:"uploadBtn",children:[(0,d.jsx)(r,{}),"Upload All Images"]})]})}},6001:function(e,t,n){n.d(t,{NJ:function(){return s},fc:function(){return u},i5:function(){return d}});var a=n(4165),l=n(5861),o=n(3605),i=n(1687),r=n(1529),s=function(e){return function(){var t=(0,l.Z)((0,a.Z)().mark((function t(n){var l,r,s,u,d,c,v,p,h;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,Object.assign(e,{timeout:0}),t.next=4,(0,i.Z)(e);case 4:l=t.sent,n({type:o.am,payload:null===l||void 0===l?void 0:l.data}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),"ECONNABORTED"===(null===t.t0||void 0===t.t0?void 0:t.t0.code)?n({type:o.pn,payload:"Network Issues,Please try again"}):null!==t.t0&&void 0!==t.t0&&null!==(r=t.t0.response)&&void 0!==r&&null!==(s=r.data)&&void 0!==s&&null!==(u=s.error)&&void 0!==u&&u.message?n({type:o.pn,payload:null===t.t0||void 0===t.t0||null===(d=t.t0.response)||void 0===d||null===(c=d.data)||void 0===c||null===(v=c.error)||void 0===v?void 0:v.message}):n({type:o.pn,payload:null===t.t0||void 0===t.t0||null===(p=t.t0.response)||void 0===p||null===(h=p.data)||void 0===h?void 0:h.message});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},u=function(e){return function(){var t=(0,l.Z)((0,a.Z)().mark((function t(n){var l,r,s,u,d,c,v,p,h;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,Object.assign(e,{timeout:0}),t.next=4,(0,i.Z)(e);case 4:l=t.sent,n({type:o.zX,payload:null===l||void 0===l?void 0:l.data}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),"ECONNABORTED"===(null===t.t0||void 0===t.t0?void 0:t.t0.code)?n({type:o.pn,payload:"Network Issues,Please try again"}):null!==t.t0&&void 0!==t.t0&&null!==(r=t.t0.response)&&void 0!==r&&null!==(s=r.data)&&void 0!==s&&null!==(u=s.error)&&void 0!==u&&u.message?n({type:o.pn,payload:null===t.t0||void 0===t.t0||null===(d=t.t0.response)||void 0===d||null===(c=d.data)||void 0===c||null===(v=c.error)||void 0===v?void 0:v.message}):n({type:o.pn,payload:null===t.t0||void 0===t.t0||null===(p=t.t0.response)||void 0===p||null===(h=p.data)||void 0===h?void 0:h.message});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},d=function(e){return function(){var t=(0,l.Z)((0,a.Z)().mark((function t(n){var l,s,d,c,v,p,h;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return 0,0,t.prev=2,Object.assign(e,{onUploadProgress:function(e){e.loaded,e.total,n((0,r.Y)(e.loaded,e.total))}}),Object.assign(e,{timeout:0}),t.next=7,(0,i.Z)(e);case 7:d=t.sent,n({type:o.zW,payload:null===d||void 0===d?void 0:d.data}),c=null===e||void 0===e||null===(l=e.url)||void 0===l?void 0:l.split("/")[2],v={method:"get",url:"kitchen/"+c,headers:{Authorization:null===e||void 0===e||null===(s=e.headers)||void 0===s?void 0:s.Authorization}},n(u(v)),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(2),n({type:o.pn,payload:null===t.t0||void 0===t.t0||null===(p=t.t0.response)||void 0===p||null===(h=p.data)||void 0===h?void 0:h.message});case 17:case"end":return t.stop()}}),t,null,[[2,14]])})));return function(e){return t.apply(this,arguments)}}()}}}]);
//# sourceMappingURL=856.30c732cb.chunk.js.map