"use strict";(self.webpackChunkgrub_hike=self.webpackChunkgrub_hike||[]).push([[856],{5856:function(e,n,t){t.r(n),t.d(n,{default:function(){return d}});var l=t(885),i=t(2791),a=t(6001),s=t(9434),o=(0,t(936).Z)(i.createElement("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM14 13v4h-4v-4H7l5-5 5 5h-3z"}),"CloudUpload"),c=t(4673),r=(t(5462),t(6298)),u=t(184);function d(){var e=(0,i.useState)(null),n=(0,l.Z)(e,2),t=n[0],d=n[1],h=(0,i.useState)(null),v=(0,l.Z)(h,2),p=v[0],f=v[1],m=(0,i.useRef)(null),g=(0,s.I0)(),j=(0,c.Z)("userDetails"),k=(0,l.Z)(j,1)[0],x=(0,i.useState)(!1),y=(0,l.Z)(x,2),C=y[0],b=y[1];return(0,i.useEffect)((function(){if(t){var e=[];if(3===(null===t||void 0===t?void 0:t.length)){for(var n=0;n<(null===t||void 0===t?void 0:t.length);n++){var l=URL.createObjectURL(t[n]);e.push(l)}f(e)}else(0,r.E)("Please try to upload 3 images only")}}),[t]),(0,u.jsxs)("div",{className:"addPicsInKitchen",children:[(0,u.jsx)("h2",{children:"Add Pics in Kitchen"}),(0,u.jsxs)("p",{style:{fontWeight:"lighter"},children:["Total images ",p?null===p||void 0===p?void 0:p.length:"0","/3"]}),(0,u.jsx)("input",{ref:m,type:"file",accept:"images/*",onChange:function(e){d(e.target.files)},multiple:!0,hidden:!0}),(0,u.jsxs)("div",{className:"imagesArea",children:[(0,u.jsxs)("button",{onClick:function(){return m.current.click()},className:"selectImageBtn",children:[(0,u.jsx)("span",{children:"+"}),(0,u.jsx)("span",{children:"Choose Images"})]}),p&&p.map((function(e,n){return(0,u.jsx)("img",{className:"choosenImage",alt:n,async:!0,src:e},n)}))]}),(0,u.jsxs)("button",{onClick:function(){return function(){var e=new FormData;if(3===(null===t||void 0===t?void 0:t.length)){for(var n,l,i=0;i<(null===t||void 0===t?void 0:t.length);i++){var s=t[i]?t[i]:void 0;s&&e.append("kitchenPic",s)}var o={method:"put",url:"kitchen/pic/".concat(null===k||void 0===k||null===(n=k.userDetails)||void 0===n?void 0:n.id),data:e,headers:{Authorization:"Bearer ".concat(null===k||void 0===k||null===(l=k.userDetails)||void 0===l?void 0:l.token),"Content-Type":"multipart/form-data"}};g((0,a.i5)(o)),b(!0)}else(0,r.E)("Please try to upload  3 images")}()},disabled:C,style:C?{opacity:.5}:{opacity:1},className:"uploadBtn",children:[(0,u.jsx)(o,{}),"Upload All Images"]})]})}}}]);
//# sourceMappingURL=856.f7d148a4.chunk.js.map