/*! For license information please see 685.80e7f8f0.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkgrub_hike=self.webpackChunkgrub_hike||[]).push([[685],{1685:function(e,t,n){n.r(t),n.d(t,{default:function(){return d}});var r=n(885),o=n(2791),a=n(2168),i=n(9434),s=n(3102),u=n(3504),l=n(6053),c=n(184);function d(){var e=(0,o.useState)(""),t=(0,r.Z)(e,2),n=t[0],d=t[1],p=(0,o.useState)(""),v=(0,r.Z)(p,2),f=v[0],h=v[1],g=(0,o.useState)(""),m=(0,r.Z)(g,2),x=m[0],y=m[1],w=(0,o.useState)("guest"),b=(0,r.Z)(w,2),j=b[0],C=b[1],k=(0,i.I0)(),N=(0,i.v9)((function(e){return null===e||void 0===e?void 0:e.auth})),S=(0,o.useState)(!1),U=(0,r.Z)(S,2),I=U[0],E=U[1];return(0,o.useEffect)((function(){E(!1)}),[N]),(0,c.jsxs)("div",{className:"login",children:[(0,c.jsx)("div",{className:"login-left"}),(0,c.jsxs)("div",{className:"login-right",children:[(0,c.jsx)(s.Z,{}),(0,c.jsxs)("form",{onSubmit:function(e){return function(e){var t;e.preventDefault(),E(!0),t="guest"===j?{email:n,password:x}:{userName:f,password:x};var r={method:"POST",url:"".concat(j,"/login"),headers:{"Content-Type":"application/json"},data:JSON.stringify(t)};k((0,a.C)(j,r))}(e)},children:[(0,c.jsx)("h3",{children:"Login"}),(0,c.jsx)("h5",{children:"Login to Your Account"}),(0,c.jsx)("p",{className:"quotes",children:"Thank you for comming back on grubhike,lets access our services for free of coast."}),(0,c.jsx)("p",{className:"dont",children:"Choose your user preference"}),(0,c.jsxs)("div",{className:"radios",children:[(0,c.jsxs)("span",{children:[(0,c.jsx)("label",{htmlFor:"guest",children:"Guest"}),(0,c.jsx)("input",{type:"radio",checked:"guest"===j,value:"guest",onChange:function(e){return C(e.target.value)},id:"guest",name:"typeUser"})]}),(0,c.jsxs)("span",{children:[(0,c.jsx)("label",{htmlFor:"host",children:"Host"}),(0,c.jsx)("input",{type:"radio",value:"host",onChange:function(e){return C(e.target.value)},id:"host",name:"typeUser"})]})]}),"host"===j?(0,c.jsx)("input",{type:"text",className:"field",placeholder:"Username here",onChange:function(e){return h(e.target.value)}}):(0,c.jsx)("input",{type:"email",className:"field",placeholder:"Email here",onChange:function(e){return d(e.target.value)}}),(0,c.jsx)("input",{type:"password",className:"field",placeholder:"Password here",onChange:function(e){return y(e.target.value)}}),(0,c.jsx)("button",{type:"submit",className:"field btn",children:"Login"}),(0,c.jsxs)("p",{className:"dont",children:["Don't have an account?",(0,c.jsx)(u.rU,{to:"/signup",children:" Sign Up"})]}),I?(0,c.jsxs)("span",{className:"spanner",children:["Validating. . . \xa0 ",(0,c.jsx)("img",{src:l,className:"loadSpinner ",alt:"load"})]}):(0,c.jsx)("p",{className:"dont red",children:null!==N&&void 0!==N&&N.error?(0,c.jsxs)(c.Fragment,{children:["Error::(",null===N||void 0===N?void 0:N.error,")"]}):""})]})]})]})}},2168:function(e,t,n){n.d(t,{C:function(){return h},R:function(){return g}});var r=n(4165),o=n(5861),a=n(3605);function i(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}var s=function e(t,n){function r(e,r,o){if("undefined"!==typeof document){"number"===typeof(o=i({},n,o)).expires&&(o.expires=new Date(Date.now()+864e5*o.expires)),o.expires&&(o.expires=o.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var a="";for(var s in o)o[s]&&(a+="; "+s,!0!==o[s]&&(a+="="+o[s].split(";")[0]));return document.cookie=e+"="+t.write(r,e)+a}}return Object.create({set:r,get:function(e){if("undefined"!==typeof document&&(!arguments.length||e)){for(var n=document.cookie?document.cookie.split("; "):[],r={},o=0;o<n.length;o++){var a=n[o].split("="),i=a.slice(1).join("=");try{var s=decodeURIComponent(a[0]);if(r[s]=t.read(i,s),e===s)break}catch(c){}}return e?r[e]:r}},remove:function(e,t){r(e,"",i({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,i({},this.attributes,t))},withConverter:function(t){return e(i({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"}),u=s,l=n(1687);function c(e){this.message=e}c.prototype=new Error,c.prototype.name="InvalidCharacterError";var d="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new c("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,r,o=0,a=0,i="";r=t.charAt(a++);~r&&(n=o%4?64*n+r:r,o++%4)?i+=String.fromCharCode(255&n>>(-2*o&6)):0)r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(r);return i};function p(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return function(e){return decodeURIComponent(d(e).replace(/(.)/g,(function(e,t){var n=t.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n})))}(t)}catch(e){return d(t)}}function v(e){this.message=e}v.prototype=new Error,v.prototype.name="InvalidTokenError";var f=function(e,t){if("string"!=typeof e)throw new v("Invalid token specified");var n=!0===(t=t||{}).header?0:1;try{return JSON.parse(p(e.split(".")[n]))}catch(e){throw new v("Invalid token specified: "+e.message)}},h=function e(t,n){return function(){var i=(0,o.Z)((0,r.Z)().mark((function o(i){var s,c,d,p,v,h,g,m,x,y,w,b,j,C;return(0,r.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,Object.assign(n,{timeout:0}),r.next=4,(0,l.Z)(n);case 4:p=r.sent,v={userType:t,token:null===p||void 0===p||null===(s=p.data)||void 0===s?void 0:s.token,id:f(null===p||void 0===p||null===(c=p.data)||void 0===c?void 0:c.token)._id},console.log(v),u.set("userDetails",JSON.stringify(v),{expires:new Date(1e3*f(null===p||void 0===p||null===(d=p.data)||void 0===d?void 0:d.token).exp)}),i({type:a.xr,userType:t,cred:v}),window.location.href="/",r.next=15;break;case 12:r.prev=12,r.t0=r.catch(0),"ERR_NETWORK"===(null===r.t0||void 0===r.t0?void 0:r.t0.code)?i({type:a.pn,payload:null===r.t0||void 0===r.t0||null===(h=r.t0.response)||void 0===h?void 0:h.data}):0===r.t0.request.status&&4===r.t0.request.readyState?i(e(t,n)):null!==r.t0&&void 0!==r.t0&&null!==(g=r.t0.response)&&void 0!==g&&null!==(m=g.data)&&void 0!==m&&null!==(x=m.error)&&void 0!==x&&x.message?i({type:a.pn,payload:null===r.t0||void 0===r.t0||null===(y=r.t0.response)||void 0===y||null===(w=y.data)||void 0===w||null===(b=w.error)||void 0===b?void 0:b.message}):i({type:a.pn,payload:null===r.t0||void 0===r.t0||null===(j=r.t0.response)||void 0===j||null===(C=j.data)||void 0===C?void 0:C.message});case 15:case"end":return r.stop()}}),o,null,[[0,12]])})));return function(e){return i.apply(this,arguments)}}()},g=function(){return u.remove("userDetails"),{type:a.WK}}}}]);
//# sourceMappingURL=685.80e7f8f0.chunk.js.map